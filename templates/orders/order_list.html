{% extends 'base.html' %}

{% block content %}
<h2>Your Orders</h2>
<form method="get" action="">
    {{ search_form.as_p }}
    <button type="submit">Search</button>
</form>
<table>
    <tr>
        <th>Order ID</th>
        <th>Date</th>
        <th>Status</th>
        <th>Total Amount</th>
        <th>Actions</th>
    </tr>
    {% for order in page_obj %}
    <tr>
        <td>{{ order.id }}</td>
        <td>{{ order.order_date }}</td>
        <td>{{ order.status }}</td>
        <td>{{ order.total_amount }}</td>
        <td>
            <a href="{% url 'order_detail' order.id %}">View</a>
            <a href="{% url 'update_order_status' order.id %}">Update Status</a>
        </td>
    </tr>
    {% endfor %}
</table>
<div>
    {% for page in page_obj.paginator.page_range %}
        {% if page_obj.number == page %}
            <strong>{{ page }}</strong>
        {% else %}
            <a href="?page={{ page }}&{{ request.GET.urlencode }}">{{ page }}</a>
        {% endif %}
    {% endfor %}
</div>
{% endblock %}