{% extends 'base.html' %}

{% block content %}
<h2>Order #{{ order.id }}</h2>
<p>Status: {{ order.status }}</p>
<p>Total Amount: {{ order.total_amount }}</p>
<p>Delivery Preference: {{ order.delivery_preference }}</p>
<p>Estimated Delivery Date: {{ order.estimated_delivery_date }}</p>

<h3>Order Items</h3>
<ul>
    {% for item in order.items.all %}
    <li>{{ item.product.name }} - {{ item.quantity }} x {{ item.price }}</li>
    {% endfor %}
</ul>

<h3>Status Updates</h3>
<ul>
    {% for update in status_updates %}
    <li>{{ update.update_date }}: {{ update.old_status }} -> {{ update.new_status }} ({{ update.notes }})</li>
    {% endfor %}
</ul>

<a href="{% url 'update_order_status' order.id %}">Update Order Status</a>
{% endblock %}